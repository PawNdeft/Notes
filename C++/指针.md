# 指针

---

## 1、指针定义

- 指针是程序数据在内存中的地址，指针变量是用来保存这些地址的变量。

- 如果指针变量p保存了变量 a 的地址，则说：p指向了变量a。

- 指针的初始化

```C++
    int a;
    int *p = &a;
```

```C++
    int a;
    int *p;
    p = &a;
```

## 2、指针与数组
 
### （1）指针与一维数组

- 一维数组名本身就是一个指针，它代表一维数组的首地址。

```C++
    int a[5] = {1,2,3,4,5};
    int *p = a;         //指向数组元素的指针；
    int (*pa)[5] = &a;  //指向数组的指针；
    printf("%p",a);     //010FF750;
    printf("%p",&a[0]); //010FF750;
    printf("%p",p);     //010FF750;
```

```C++
//指针做数组名用
    int a[5] = {1,2,3,4,5};
    int *p = a;
    for (int i = 0; i < 5; i++)
    {
        printf("%d  ", p[i]);
    }
```

```C++
    //a[i]、p[i]、*(a+i)、*(p+i)等价
    for (int i = 0; i < 5; i++)
    {
        printf("%d  ", *(p+i));
    }
```

```
    *(p++);         //移动指针获取数组元素的值；
    *(a++);         //错误，数组名为常量，不能作为左值；
```

### （2）指针与二维数组

```C++
int a[3][4] = {{1,2,3,4},{5,6,7,8},{9,10,11,12}};
```

- a是二维数组名，是数组首元素的指针，这个首元素是一个一维数组。

- a组包含3行，即3个行元素：a[0],a[1],a[2]。

- a[0],a[1],a[2]分别是三个一维数组的数组名。一维数组名表示的是数组第一个元素的地址a[0] 表示的就是元素 a[0][0] 的地址，即 a[0]==&a[0][0]。

```C++
    a[i] == &a[i][0];
    a[i]+j == *(a+i)+j == &a[i][j];
```

- 数组名a是a[0]的的地址，并不是a[0][0]的地址。

```C++
    a == &a[0];
    a[0] == &a[0][0];
    a == &(&a[0][0]);
```

```C++
int main()
{
    int a[3][4]={{1,2,3,4},{5,6,7,8},{9,10,11,12}};
    printf("a=%p\n",a);//数组首元素的指针，和1的地址相同    22FE20
    printf("&a[0]=%p\n",&a[0]);//a[0]是二维数组首元素的指针，二维数组首元素是一个一维数组，加&升阶后和上面的意义一样  22FE20
    printf("a+1=%p\n",a+1);//二维数组的第二个元素的地址  22FE30
    printf("&a[0]+1=%p\n",&a[0]+1);     //22FE30
    printf("a[1]=%p\n",a[1]);           //22FE30
    printf("&a[1]=%p\n",&a[1]);         //22FE30
    printf("*(a+1)=%p\n",*(a+1));//a+1是二维数组的第二个元素的地址，加*降阶为第二个元素的首元素的地址  22FE30
    printf("*a+1=%p\n",*a+1);//a是二维数组首元素的地址加*降阶，为第一个元素的首元素的地址，+1为二维数组第一个元素的第二个元素的地址   22FE24
    printf("&a=%p\n",&a);//指向整个二维数组的指针    22FE20
    printf("&a+1=%p\n",&a+1);//+1一次跨越48个字节   22FE50
    exit(0);
}
```

### （3）数组指针与指针数组

### （4）指针与函数形参 函数返回值

### （5）函数指针

### （6）结构体指针

### （7）常量指针与指针常量

### （8）指向指针的指针